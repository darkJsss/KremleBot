{% extends "base.html" %}

{% block content %}
<div class="mobile-profile-container">
    <!-- Шапка профиля -->
    <div class="profile-header">
        <a href="{{ url_for('index') }}" class="back-button">
            <img src="{{ url_for('static', filename='images/back.png') }}" alt="Назад">
        </a>
        <h1 class="profile-title">Профиль {{ username }}</h1>
    </div>

    <!-- Основная информация -->
    <div class="profile-info">
        <div class="info-card">
            <h2>Ваши результаты</h2>

            <div class="results-grid">
                {% for result in results %}
                <div class="result-item">
                    <div class="result-topic">{{ result.topic }}</div>
                    <div class="result-score">
                        <span class="score-value">{{ result.score }}/15</span>
                        <span class="time-value">{{ result.time }}</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: {{ (result.score / 15) * 100 }}%"></div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Достижения -->
        <div class="achievements-card">
            <h2>Достижения</h2>
            <div class="achievements-header">
                <div class="achievements-count">
                    {{ achievements|selectattr('unlocked')|list|length }}/{{ achievements|length }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}